<?xml version="1.0" encoding="UTF-8"?>
<manifest>
  <![CDATA[
    Manifest for building NDK shader-tools from master.

    Use prebuilts for cmake and ninja for all platforms.
    Use "cl" from MSVC as the compiler on Windows.
    Use the default compiler on Linux and Mac.

    Assume you want the build temporary files to go in the directory "out",
    and installation to go into $DIST_DIR.

       To build this project on Linux (assume OS=linux) and Mac (assume OS=darwin):
          SRC_ROOT=`pwd` && \
          cd out && \
          "$SRC_ROOT/prebuilts/cmake/$OS-x86/bin/cmake" "$SRC_ROOT/src/shaderc" \
             -G Ninja \
             -DCMAKE_BUILD_TYPE=RelWithDebInfo \
             -DCMAKE_INSTALL_PREFIX="$DIST_DIR" && \
          "$SRC_ROOT/prebuilts/ninja/$OS-x86/ninja" install

       To build this project on Windows (assuming Cygwin, and OS=windows):
          SRC_ROOT=`pwd` && \
          cd out && \
          "$SRC_ROOT/prebuilts/cmake/$OS-x86/bin/cmake" "$SRC_ROOT/src/shaderc" \
             -G Ninja \
             -DCMAKE_CXX_COMPILER=cl \
             -DCMAKE_BUILD_TYPE=RelWithDebInfo \
             -DCMAKE_INSTALL_PREFIX="$DIST_DIR" && \
          "$SRC_ROOT/prebuilts/ninja/$OS-x86/ninja" install

       Then executables are in:
          $DIST_DIR/glslc/glslc
          $DIST_DIR/third_party/spirv-tools/spirv-as
          $DIST_DIR/third_party/spirv-tools/spirv-dis
          $DIST_DIR/third_party/spirv-tools/spirv-val


   For testing, use:
           fetch="persistent-https://android.googlesource.com/"
  ]]>
  <remote  name="aosp"
           fetch=".."
           review="https://android-review.googlesource.com/" />
  <default revision="master"
           remote="aosp" />
  <project path="src/shaderc" name="platform/external/shaderc/shaderc" />
  <project path="src/shaderc/third_party/glslang" name="platform/external/shaderc/glslang" />
  <project path="src/shaderc/third_party/spirv-tools" name="platform/external/shaderc/spirv-tools" />
  <project path="src/shaderc/third_party/googletest" name="platform/external/googletest" revision="82b11b8cfcca464c2ac74b623d04e74452e74f32" />


 <![CDATA[
   Get prebuilt cmake and ninja.
 ]]>

 <project path="prebuilts/cmake/darwin-x86" name="platform/prebuilts/cmake/darwin-x86" clone-depth="1" groups="notdefault,platform-darwin" />
 <project path="prebuilts/cmake/linux-x86" name="platform/prebuilts/cmake/linux-x86" clone-depth="1" groups="notdefault,platform-linux" />
 <project path="prebuilts/cmake/windows-x86" name="platform/prebuilts/cmake/windows-x86" clone-depth="1" groups="notdefault,platform-cygwin_nt-6.1,platform-cygwin_nt-6.2,platform-cygwin_nt-6.3,platform-cygwin_nt-10.0" />

 <project path="prebuilts/ninja/darwin-x86" name="platform/prebuilts/ninja/darwin-x86" clone-depth="1" groups="notdefault,platform-darwin" />
 <project path="prebuilts/ninja/linux-x86" name="platform/prebuilts/ninja/linux-x86" clone-depth="1" groups="notdefault,platform-linux" />
 <project path="prebuilts/ninja/windows-x86" name="platform/prebuilts/ninja/windows-x86" clone-depth="1" groups="notdefault,platform-cygwin_nt-6.1,platform-cygwin_nt-6.2,platform-cygwin_nt-6.3,platform-cygwin_nt-10.0" />
</manifest>
